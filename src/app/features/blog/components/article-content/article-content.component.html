<div class="article-content" *ngIf="blocks && blocks.length > 0">
  <div *ngFor="let block of blocks; trackBy: trackByIndex" class="content-block">
    <!-- Paragraph -->
    <p
      *ngIf="block.type === 'paragraph'"
      class="content-paragraph"
      [ngClass]="block.data.className"
      [innerHTML]="block.data.text"
    ></p>

    <!-- Heading -->
    <h2
      *ngIf="block.type === 'heading' && block.data.level === 2"
      class="content-heading"
      [id]="block.data.id || generateId(block.data.text)"
    >
      {{ block.data.text }}
    </h2>
    <h3
      *ngIf="block.type === 'heading' && block.data.level === 3"
      class="content-heading"
      [id]="block.data.id || generateId(block.data.text)"
    >
      {{ block.data.text }}
    </h3>
    <h4
      *ngIf="block.type === 'heading' && block.data.level === 4"
      class="content-heading"
      [id]="block.data.id || generateId(block.data.text)"
    >
      {{ block.data.text }}
    </h4>
    <h5
      *ngIf="block.type === 'heading' && block.data.level === 5"
      class="content-heading"
      [id]="block.data.id || generateId(block.data.text)"
    >
      {{ block.data.text }}
    </h5>
    <h6
      *ngIf="block.type === 'heading' && block.data.level === 6"
      class="content-heading"
      [id]="block.data.id || generateId(block.data.text)"
    >
      {{ block.data.text }}
    </h6>

    <!-- Movie Poster -->
    <app-movie-poster
      *ngIf="block.type === 'moviePoster'"
      [src]="block.data.src"
      [alt]="block.data.alt"
      [caption]="block.data.caption"
      [width]="block.data.width"
      [height]="block.data.height"
    ></app-movie-poster>

    <!-- Movie Ratings -->
    <app-movie-ratings
      *ngIf="block.type === 'movieRatings'"
      [data]="block.data"
    ></app-movie-ratings>

    <!-- Business Ratings -->
    <app-business-ratings
      *ngIf="block.type === 'businessRatings'"
      [data]="block.data"
    ></app-business-ratings>

    <!-- Gallery -->
    <app-image-gallery
      *ngIf="block.type === 'gallery'"
      [data]="block.data"
    ></app-image-gallery>

    <!-- Blockquote -->
    <app-blockquote
      *ngIf="block.type === 'blockquote'"
      [data]="block.data"
    ></app-blockquote>

    <!-- Code -->
    <app-code-block
      *ngIf="block.type === 'code'"
      [data]="block.data"
    ></app-code-block>

    <!-- List -->
    <ul *ngIf="block.type === 'list' && block.data.style === 'unordered'" class="content-list">
      <li *ngFor="let item of block.data.items" [innerHTML]="item"></li>
    </ul>
    <ol *ngIf="block.type === 'list' && block.data.style === 'ordered'" class="content-list">
      <li *ngFor="let item of block.data.items" [innerHTML]="item"></li>
    </ol>

    <!-- CTA -->
    <div *ngIf="block.type === 'cta'" class="content-cta">
      <h3 class="cta-title">{{ block.data.title }}</h3>
      <p class="cta-description">{{ block.data.description }}</p>
      <a
        [href]="block.data.buttonUrl"
        mat-raised-button
        [color]="block.data.variant === 'secondary' ? 'accent' : 'primary'"
        class="cta-button"
      >
        {{ block.data.buttonText }}
      </a>
    </div>

    <!-- Affiliate -->
    <app-affiliate-link
      *ngIf="block.type === 'affiliate'"
      [product]="block.data"
    ></app-affiliate-link>

    <!-- Divider -->
    <hr *ngIf="block.type === 'divider'" class="content-divider" [ngClass]="'style-' + (block.data.style || 'line')" />

    <!-- AdSense -->
    <app-adsense
      *ngIf="block.type === 'adsense'"
      [adClient]="block.data.adClient"
      [adSlot]="block.data.adSlot"
    ></app-adsense>

    <!-- Video -->
    <app-video-embed
      *ngIf="block.type === 'video'"
      [url]="block.data.url"
      [title]="block.data.title"
      [description]="block.data.description"
      [platform]="block.data.platform"
    ></app-video-embed>

    <!-- Audio -->
    <app-audio-player
      *ngIf="block.type === 'audio'"
      [src]="block.data.src"
      [embedUrl]="block.data.embedUrl"
      [title]="block.data.title"
      [description]="block.data.description"
    ></app-audio-player>

    <!-- Custom Component -->
    <!-- YouTube Player Component -->
    <app-youtube-player
      *ngIf="block.type === 'component' && block.data.componentName === 'youtube-player'"
      [videoId]="block.data.videoId"
      [title]="block.data.title"
      [description]="block.data.description"
    ></app-youtube-player>

    <!-- Custom Component -->
    <app-roku-programmatic-compatibility-checker
      *ngIf="block.type === 'component' && block.data.componentName === 'roku-checker'"
    ></app-roku-programmatic-compatibility-checker>

    <!-- Snow Globe Shake Component -->
    <app-snow-globe-shake
      *ngIf="block.type === 'component' && block.data.componentName === 'snow-globe-shake'"
    ></app-snow-globe-shake>

    <!-- Email CTA Component -->
    <app-cta-email-list
      *ngIf="block.type === 'component' && block.data.componentName === 'email-cta'"
      [darkThemeBg]="block.data.darkThemeBg || 'secondary'"
    ></app-cta-email-list>

    <!-- Social Media Links Component -->
    <app-social-media-links
      *ngIf="block.type === 'component' && block.data.componentName === 'social-media-links'"
      [backgroundVariant]="block.data.backgroundVariant || 'dark'"
    ></app-social-media-links>

    <!-- Alert Primary Component -->
    <app-alert-primary
      *ngIf="block.type === 'component' && block.data.componentName === 'alert-primary'"
      [title]="block.data.title || 'Information'"
      [content]="block.data.content || block.data.message || ''"
      [icon]="block.data.icon || 'info'"
    ></app-alert-primary>

    <!-- Alert Success Component -->
    <app-alert-success
      *ngIf="block.type === 'component' && block.data.componentName === 'alert-success'"
      [title]="block.data.title || 'Success'"
      [content]="block.data.content || block.data.message || ''"
      [icon]="block.data.icon || 'check_circle'"
    ></app-alert-success>

    <!-- Alert Warning Component -->
    <app-alert-warning
      *ngIf="block.type === 'component' && block.data.componentName === 'alert-warning'"
      [title]="block.data.title || 'Warning'"
      [content]="block.data.content || block.data.message || ''"
      [icon]="block.data.icon || 'warning'"
    ></app-alert-warning>

    <!-- Alert Danger Component -->
    <app-alert-danger
      *ngIf="block.type === 'component' && block.data.componentName === 'alert-danger'"
      [title]="block.data.title || 'Error'"
      [content]="block.data.content || block.data.message || ''"
      [icon]="block.data.icon || 'error'"
    ></app-alert-danger>

    <!-- Related Blog Posts Component -->
    <app-related-blog-posts
      *ngIf="block.type === 'component' && block.data.componentName === 'related-blog-posts'"
      [posts]="block.data.posts"
    ></app-related-blog-posts>
  </div>
</div>
